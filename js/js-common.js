"use strict";var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],o=!0,n=!1,i=void 0;try{for(var s,r=e[Symbol.iterator]();!(o=(s=r.next()).done)&&(a.push(s.value),!t||a.length!==t);o=!0);}catch(e){n=!0,i=e}finally{try{!o&&r.return&&r.return()}finally{if(n)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function parseTime(e,t){if(0===arguments.length)return null;var a=t||"{y}-{m}-{d} {h}:{i}:{s}",t=void 0,o={y:(t="object"===(void 0===e?"undefined":_typeof(e))?e:("number"==typeof(e="string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e):e)&&10===e.toString().length&&(e*=1e3),new Date(e))).getFullYear(),m:t.getMonth()+1,d:t.getDate(),h:t.getHours(),i:t.getMinutes(),s:t.getSeconds(),a:t.getDay()};return a.replace(/{(y|m|d|h|i|s|a)+}/g,function(e,t){var a=o[t];return"a"===t?["日","一","二","三","四","五","六"][a]:(a=0<e.length&&a<10?"0"+a:a)||0})}function getQueryObject(e){var e=(e=null==e?window.location.href:e).substring(e.lastIndexOf("?")+1),o={};return e.replace(/([^?&=]+)=([^?&=]*)/g,function(e,t,a){t=decodeURIComponent(t),a=decodeURIComponent(a),a=String(a);return o[t]=a,e}),o}function cleanArray(e){for(var t=[],a=0;a<e.length;a++)e[a]&&t.push(e[a]);return t}function param(t){return t?cleanArray(Object.keys(t).map(function(e){return void 0===t[e]?"":encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&"):""}function replaceHTML(e){return e&&e.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\s/g," ")||""}var urlQuery=getQueryObject();if(window.INJECT_OBJECT)for(var inj in window.INJECT_OBJECT)window.INJECT_OBJECT[inj]&&(urlQuery[inj]=window.INJECT_OBJECT[inj]);function getNewLocationHref(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=location.origin,a=location.pathname,o=location.search,n="",i="";"en"===(s=getActiveLanguage())&&(i="/en",-1!==a.indexOf("/m")&&(a=a.replace("/m",""),i="/m/en"));var n=t+i+a,i="/"+e,s="/"+s,a=urlQuery;a.language=""===(i="en"===e?"":i)?"en":-1<i.indexOf("/")?i.substring(1):i;a="?"+param(a);return n=n.replace(s,i),"news_detail"===window.pageName?t+"/dung-article"+a:n+o}function autoChangeLang(){var e=urlQuery;"1"===e.m&&window.__MOBILE||"0"===e.m&&!window.__MOBILE||(e.m=window.__MOBILE?1:0,e="?"+param(e),location=location.origin+"/dung-article"+e)}function createUniqueString(){var e=+new Date+"";return(+(parseInt(65536*(1+Math.random()))+""+e)).toString(32)}function judgeClient(){var e=navigator.userAgent,t=-1<e.indexOf("Android")||-1<e.indexOf("Adr"),e=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return t?"android":e?"ios":"pc"}function getActiveLanguage(){var e=/\/(de|es|fr|it|pt|tr)\//.exec(location.href);return"news_detail"===window.pageName?urlQuery.language||"en":e&&e.length?e[1]:"en"}function debounce(t,a){var o=null;return function(){o&&(clearTimeout(o),o=null);var e=arguments;o=setTimeout(function(){t&&t.apply(null,e)},a||0)}}if(window.performance)try{window.startLoadTime=window.performance.timing.navigationStart}catch(e){console.log("浏览器不支持performance")}function getDuration(){return(new Date).getTime()-window.startLoadTime}var isSandbox=["wwwsandbox.dungeonhunter6.com"].includes(location.host);window.API_DOMAIN="";var LOG_API="https://sdklog.goatgames.com",lang=getActiveLanguage(),_m=window.__MOBILE?1:0,newDetailUrl="/dung-article?language="+lang+"&m="+_m+"&id=",gameId="10041",locale="",referrer=$.cookie("__referrer__")||requestReferrer;referrer&&$.cookie("__referrer__",referrer,{path:"/",domain:"dungeonhunter6.com"});var PAGE_PATH_VERSION=["/ldpg/","/ldpg02/","/ldpg03/","/ldpg04/","/ldpg05/","/hqldpg01/","/hqldpg02/","/hqldpg03/","/cg01/","/cg02/","/cg03/","/banner01/","/banner02/","/banner03/","/banner04/","/banner05/","/ip01/","/ip02/","/fight01/","/fight02/","/cg03gg1/","/cg03gg2/","/cg03gg3/","/cg03gg4/","/short01/","/short01gg2/","/short01gg3","/short02/","/short03/","/short04/","/short05/","/shortcg01/","/shortcg02/","/short01fb1/","/short01fb2/","/short01tt1/","/short06/","/short07/","/short01st1/","/short01fb3/","/short01fb4/","/shortgg01/","/shortgg02/","/shorttt01/","/shortfb01/","/shortddl/"],C_PATH_VERSION=["cg03gg1","cg03gg2","cg03gg3","cg03gg4","short01gg2","short01gg3","short01fb1","short01fb2","short01tt1","short01fb3","short01fb4","shortgg01","shortgg02","shorttt01","shortfb01"];function findPathVersion(){var e=urlQuery.landing_page_path;if(e)return e;for(var t=location.pathname,a=0;a<PAGE_PATH_VERSION.length;a++){var o=PAGE_PATH_VERSION[a];if(-1<t.indexOf(o))return o.replace(/\//g,"")}return"default"}"news_detail"===pageName&&autoChangeLang();var storeLinks={default:{ios:"https://apps.apple.com/app/id1664335636",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},other:{fb:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=158c726d-1457-410f-8fc0-74e5cbf65609",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},gg:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=f8854634-eb6b-470d-9ba2-e2d0e63c3553",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},tiktok:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=2a3b844f-f764-448f-8650-51303548f65d",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"}},us:{fb:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=c3ac87c2-03fc-4edf-8b9c-c7f4430ab1a1",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},gg:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=f52105ff-cb47-428b-8257-f39d2713ea7b",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},tiktok:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=430d4544-1c91-454e-9682-b11ae8e47862",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"}},de:{fb:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=dfad4679-bbd0-44d7-b907-7bd3ba7ecc1b",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},gg:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=76919174-e827-4bdd-8e9a-24b968d5eab2",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},tiktok:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=889671a3-79ce-43bd-aa46-25221e3da436",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"}},fr:{fb:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=dfad4679-bbd0-44d7-b907-7bd3ba7ecc1b",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},gg:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=76919174-e827-4bdd-8e9a-24b968d5eab2",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},tiktok:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=889671a3-79ce-43bd-aa46-25221e3da436",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"}},ca:{fb:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=bd107637-060d-4445-88fb-67d3960a48d7",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},gg:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=bb5253bd-bcec-4fea-a036-d0d245fc0c2e",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},tiktok:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=b405035b-dd29-41f3-85ec-b33627f4218c",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"}},au:{fb:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=bd107637-060d-4445-88fb-67d3960a48d7",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},gg:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=bb5253bd-bcec-4fea-a036-d0d245fc0c2e",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},tiktok:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=b405035b-dd29-41f3-85ec-b33627f4218c",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"}},nz:{fb:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=bd107637-060d-4445-88fb-67d3960a48d7",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},gg:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=bb5253bd-bcec-4fea-a036-d0d245fc0c2e",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},tiktok:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=b405035b-dd29-41f3-85ec-b33627f4218c",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"}},gb:{fb:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=bd107637-060d-4445-88fb-67d3960a48d7",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},gg:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=bb5253bd-bcec-4fea-a036-d0d245fc0c2e",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},tiktok:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=b405035b-dd29-41f3-85ec-b33627f4218c",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"}},cg03gg1:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=a794f87c-fbd7-4643-bb7c-f02eacf39764",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},cg03gg2:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=5be13df2-b90d-4ac9-834c-ad6603ec3d6e",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},cg03gg3:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=136c22de-db60-4c7f-8268-62d8cb3890d0",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},cg03gg4:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=67b1b14c-bf45-417d-96c7-675abe05d829",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},short01gg2:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=5be13df2-b90d-4ac9-834c-ad6603ec3d6e",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},short01gg3:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=136c22de-db60-4c7f-8268-62d8cb3890d0",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},short01fb1:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=2ce6b81f-3df4-4e93-b030-fbd408a3b0bf",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},short01fb2:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=c879f01c-0acd-488e-adc3-f30b3511d030",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},short01fb3:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=c879f01c-0acd-488e-adc3-f30b3511d030",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},short01fb4:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=dd09cd29-1ade-47a4-bc89-deb04aa40ec7",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},short01tt1:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=6dfdb97e-5679-4152-92a1-d4c4d7fbec6b",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},shortgg01:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=5be13df2-b90d-4ac9-834c-ad6603ec3d6e",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},shortgg02:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=136c22de-db60-4c7f-8268-62d8cb3890d0",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},shorttt01:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=6dfdb97e-5679-4152-92a1-d4c4d7fbec6b",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"},shortfb01:{ios:"https://apps.apple.com/us/app/dungeon-hunter-6/id1664335636?ppid=2ce6b81f-3df4-4e93-b030-fbd408a3b0bf",android:"https://play.google.com/store/apps/details?id=com.goatgames.dhs.gb.gp"}},hasCountryCodes=["us","de","fr","ca","au","nz","gb"];function getObjToValue(e,t,a){if(0===t.length)return e;for(var o=t.split("."),n=e,i=0;i<o.length;i++)n=n[o[i]]||a;return n}function fillStoreLink(e){var n=findPathVersion(),i=urlQuery.utm_source,e=(e||"").toLocaleLowerCase(),s=hasCountryCodes.includes(e)?e:"other",e=$(".preregister-button, .fix-app-links-inner .nav-item, .fix-preregister-button");"shortddl"!==n&&$.each(e,function(e,t){var a,o=$(t).data("client");["ios","android"].includes(o)&&(a=null,a=C_PATH_VERSION.includes(n)?getObjToValue(storeLinks,n,storeLinks.default):getObjToValue(storeLinks,s+"."+i,storeLinks.default),"ios"===o?$(t).attr("href",a.ios):$(t).attr("href",a.android))})}function trackTTEvent(e){var t=urlQuery.utm_source,a=judgeClient();"tiktok"===t&&"ios"===a&&ttq.track(e)}var _uid,AJAX={sendEmail:function(e){var t=$.Deferred();return $.ajax({method:"post",url:API_DOMAIN+"/api/v1/subscribeEmail",data:e,success:function(e){t.resolve(e.data)},error:function(e){console.log(e)}}),t.promise()},getPres:function(e){var t=$.Deferred();return $.ajax({method:"get",url:API_DOMAIN+"/api/v1/preRegister",data:e,success:function(e){t.resolve(e.data)},error:function(e){console.log(e)}}),t.promise()},getLists:function(e){var t=$.Deferred();return $.ajax({method:"get",url:API_DOMAIN+"/api/v1/article/index",data:e,success:function(e){t.resolve(e.data)},error:function(e){console.log(e)}}),t.promise()},getAllLists:function(e){var t=$.Deferred();return $.ajax({method:"get",url:API_DOMAIN+"/api/v1/article/index",data:e,success:function(e){t.resolve(e.data)},error:function(e){console.log(e)}}),t.promise()},sendLog:function(e,t){if(isSandbox||isOnline){var a=$.Deferred(),o=urlQuery,n={mode:"union",logs:""},e={create_time:parseInt((new Date).getTime()/1e3),key:"PRO_"+e,value:{}},i={appId:"com.goatgames.dhs",deviceId:$.cookie("_u_any_uid_"),gameId:gameId,clientTime:(new Date).getTime(),ip:"",platform:"landing",osName:judgeClient(),cookie:$.cookie("_u_any_uid_"),landing_page_path:findPathVersion(),referrer:referrer,isOnline:isOnline,duration:getDuration(),locale:locale};return t&&Object.entries(t).forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];i[e]=t}),o&&Object.entries(o).forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];i[e]=t}),e.value=i,n.logs=JSON.stringify([e]),$.ajax({url:LOG_API+"/sdklog/v1/",method:"post",data:JSON.stringify(n),dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(){},error:function(e){console.log(e)}}),a.promise()}},getDirectPage:function(){var a={game_id:gameId,deliver_url:isOnline?location.origin:"https://wwwsandbox.dungeonhunter6.com"};urlQuery&&Object.entries(urlQuery).forEach(function(e){var t=_slicedToArray(e,2),e=t[0],t=t[1];a[e]=t});var t=$.Deferred();return $.ajax({method:"get",url:API_DOMAIN+"/api/v1/landingPage",data:a,success:function(e){t.resolve(e.data)},error:function(e){console.log(e)}}),t.promise()}},eventAnysics={pageView:$.cookie("_page_view_")||"",submit:$.cookie("_submit_")||"",page2:$.cookie("_page2_")||"",page3:$.cookie("_page3_")||"",page4:$.cookie("_page4_")||"",page5:$.cookie("_page5_")||"",page6:$.cookie("_page6_")||"",page7:$.cookie("_page7_")||"",video_start:$.cookie("_video_start_")||"",suscribe:$.cookie("_suscribe_")||"",suscribe_count:$.cookie("_suscribe_count_")||"",_u_any_uid_:$.cookie("_u_any_uid_")||"",_appstore_click_:$.cookie("_appstore_click_")||"",_gp_click_:$.cookie("_gp_click_")||"",_Appstore_click_hover_:$.cookie("_Appstore_click_hover_")||"",_GP_click_hover_:$.cookie("_GP_click_hover_")||""};$.cookie("_u_any_uid_")||(_uid=createUniqueString()+(new Date).getTime(),$.cookie("_u_any_uid_",_uid,{expires:7,path:"/",domain:"dungeonhunter6.com"}));var EventTrack={pageViewEvent:function(){$.cookie("_page_view_")||(fbq("track","PageView"),trackTTEvent("PageView"),gtag("event","conversion",{send_to:"AW-11202792550/EAWICOCf7qYYEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"PageView"}),$.cookie("_page_view_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},submitEvent:function(){AJAX.sendLog("Submit"),$.cookie("_submit_")||(fbq("track","Submit"),trackTTEvent("Submit"),gtag("event","conversion",{send_to:"AW-11202792550/YhlDCOOf7qYYEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Submit"}),$.cookie("_submit_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},submitAppStoreEvent:function(e){var t=$(e).attr("href"),e={};t&&(e.targetHref=t),AJAX.sendLog("Appstore_click",e),$.cookie("_appstore_click_")||(fbq("track","Appstore_click"),trackTTEvent("Appstore_click"),gtag("event","conversion",{send_to:"AW-11202792550/5Y6PCLj0sL4YEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Appstore_click"}),$.cookie("_appstore_click_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},submitGoogleEvent:function(e){var t=$(e).attr("href"),e={};t&&(e.targetHref=t),AJAX.sendLog("GP_click",e),$.cookie("_gp_click_")||(fbq("track","GP_click"),trackTTEvent("GP_click"),gtag("event","conversion",{send_to:"AW-11202792550/MfHlCLv0sL4YEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"GP_click"}),$.cookie("_gp_click_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},submitAFAppStoreEvent:function(e){var t=$(e).attr("href"),e={};t&&(e.targetHref=t),AJAX.sendLog("Appstore_click_hover",e),$.cookie("_Appstore_click_hover_")||(fbq("track","Appstore_click_hover"),trackTTEvent("Appstore_click_hover"),gtag("event","conversion",{send_to:"AW-11202792550/xxhPCKH35r4YEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Appstore_click_hover"}),$.cookie("_Appstore_click_hover_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},submitAFGoogleEvent:function(e){var t=$(e).attr("href"),e={};t&&(e.targetHref=t),AJAX.sendLog("GP_click_hover",e),$.cookie("_GP_click_hover_")||(fbq("track","GP_click_hover"),trackTTEvent("GP_click_hover"),gtag("event","conversion",{send_to:"AW-11202792550/cHhDCKT35r4YEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"GP_click_hover"}),$.cookie("_GP_click_hover_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},page2Event:function(){AJAX.sendLog("Page2"),$.cookie("_page2_")||(fbq("track","Page2"),trackTTEvent("Page2"),gtag("event","conversion",{send_to:"AW-11202792550/VnNUCKO12acYEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Page2"}),$.cookie("_page2_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},page3Event:function(){AJAX.sendLog("Page3"),$.cookie("_page3_")||(fbq("track","Page3"),trackTTEvent("Page3"),gtag("event","conversion",{send_to:"AW-11202792550/Kt41CKa12acYEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Page3"}),$.cookie("_page3_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},page4Event:function(){AJAX.sendLog("Page4"),$.cookie("_page4_")||(fbq("track","Page4"),trackTTEvent("Page4"),gtag("event","conversion",{send_to:"AW-11202792550/SlgQCKm12acYEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Page4"}),$.cookie("_page4_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},page5Event:function(){AJAX.sendLog("Page5"),$.cookie("_page5_")||(fbq("track","Page5"),trackTTEvent("Page5"),gtag("event","conversion",{send_to:"AW-11202792550/GL9BCODguKoYEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Page5"}),$.cookie("_page5_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},page6Event:function(){AJAX.sendLog("Page6"),$.cookie("_page6_")||(fbq("track","Page6"),trackTTEvent("Page6"),gtag("event","conversion",{send_to:"AW-11202792550/DXPACOPguKoYEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Page6"}),$.cookie("_page6_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},page7Event:function(){AJAX.sendLog("Page7"),$.cookie("_page7_")||(fbq("track","Page7"),trackTTEvent("Page7"),gtag("event","conversion",{send_to:"AW-11202792550/liiBCObguKoYEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Page7"}),$.cookie("_page7_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},videoStartEvent:function(){AJAX.sendLog("VideoStart"),$.cookie("_video_start_")||(fbq("track","VideoStart"),trackTTEvent("VideoStart"),gtag("event","conversion",{send_to:"AW-11202792550/liiBCObguKoYEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"VideoStart"}),$.cookie("_video_start_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},SuscribeEvent:function(){AJAX.sendLog("suscribe"),$.cookie("_suscribe_")||(fbq("track","suscribe"),trackTTEvent("suscribe"),gtag("event","conversion",{send_to:"AW-11202792550/D8eGCLL0sL4YEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"suscribe"}),$.cookie("_suscribe_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))},SuscribeCountEvent:function(){AJAX.sendLog("Count"),$.cookie("_suscribe_count_")||(fbq("track","Count"),trackTTEvent("Count"),gtag("event","conversion",{send_to:"AW-11202792550/3NUeCLX0sL4YEOaY9N0p"}),AF("pba","event",{eventType:"EVENT",eventValue:{},eventName:"Count"}),$.cookie("_suscribe_count_",1,{expires:7,path:"/",domain:"dungeonhunter6.com"}))}};function initPageViewFn(){var e=+(urlQuery.gttime||""),t={},a="";try{e&&(a=(new Date).getTime()-e)}catch(e){}a&&(t.refer_duration=a),AJAX.sendLog("PageView",t)}function parseContent(e){var t={};try{t=JSON.parse(e)||{}}catch(e){console.log(e)}return t}function getNewsFn(){AJAX.getLists({game_id:gameId,language:lang,top:1}).then(function(e){$(".js-news-loading").hide();var n="";(e.length?e:[]).forEach(function(e){var t=parseTime(e.start_time,"{d}/{m}/{y}"),a=parseContent(e.detail_info),o=a.title,a=a.content,o=replaceHTML(o),a=1===e.content_type?""+newDetailUrl+e.id:""+a;n+='\n        <li class="news-item">\n          <a href="'+a+'" target="_blank" class="news-item-link" title="'+o+'">\n            <img class="news-image" src="'+e.cover+'" alt="">\n            <div class="news-info">\n              <h3 class="news-item-title ellipsis-3">'+o+'</h3>\n              <span class="new-date">'+t+"</span>\n            </div>\n          </a>\n        </li>"}),$(".js-news-list").html(n)})}function getAllNewsFn(){AJAX.getAllLists({game_id:gameId,language:lang,top:0}).then(function(e){var i="",e=e.length?e:[];0===e.length&&$(".js-latest-news").hide(),e.forEach(function(e){var t=parseTime(e.start_time,"{d}/{m}/{y}"),a=parseContent(e.detail_info),o=a.title,n=a.content,a=a.summary,o=replaceHTML(o),a=replaceHTML(a),n=1===e.content_type?""+newDetailUrl+e.id:""+n;i+='\n      <li class="latest-news-item">\n        <a href="'+n+'" target="_blank" class="latest-news-item-link" title="'+o+'">\n          <div class="news-image">\n            <img class="news-image" src="'+e.cover+'" alt="">\n          </div>\n          <div class="news-info">\n            <h3 class="news-item-title ellipsis-2">'+o+'</h3>\n            <div class="news-desc ellipsis-2">'+a+'</div>\n            <span class="new-date">'+t+"</span>\n          </div>\n        </a>\n      </li>"}),$(".js-latest-news .latest-news-list").html(i)})}function initDirection(){urlQuery.locale&&""!==urlQuery.locale?fillStoreLink(locale=urlQuery.locale||""):AJAX.getDirectPage().then(function(e){fillStoreLink(locale=(e||{}).locale||"")})}EventTrack.pageViewEvent(),initPageViewFn(),window.onload=function(){AJAX.sendLog("pageLoaded")},$(function(){AJAX.sendLog("domLoaded"),{expand:!1,init:function(){this.initActiveLangSelectItem(),this.initLangExpandEvent(),this.initLangChangeEvent(),this.addBlurChangeEvent()},initActiveLangSelectItem:function(){var e=getActiveLanguage();$(".fix-lang .lang-select .lang-item").removeClass("active"),$('.fix-lang .lang-select .lang-item[data-lang="'+e+'"]').addClass("active")},initLangExpandEvent:function(){var e=this;$(".fix-lang .lang-icon").on("click",function(){$(".top-share").removeClass("active"),e.changeLangSelectState(!e.expand)})},changeLangSelectState:function(e){this.expand=e;var t=$(".fix-lang .lang-icon"),e=$(".fix-lang .lang-select");this.expand?t.addClass("expand"):t.removeClass("expand"),this.expand?e.show():e.hide()},initLangChangeEvent:function(){$(".fix-lang .lang-select").on("click",function(e){e=$(e.target).data("lang");e&&(localStorage.setItem("navtodefault",e),window.location.href=getNewLocationHref(e))})},addBlurChangeEvent:function(){var e=$("body"),t=this;e.on("click",function(e){e=$(e.target);e.hasClass("lang-blur")||e.hasClass("top-share-blur")||e.hasClass("js-pre-tip")||(t.changeLangSelectState(!1),$(".top-share").removeClass("active"),$(".pre-tip-wrap").removeClass("active"))})}}.init(),$(".js-copyright-toggle").click(function(){var e=$(this);e.hasClass("down")?e.removeClass("down"):e.addClass("down"),$(".js-footer-main").toggle(500)}),$(".js-fix-share").click(function(){$(".js-share-content").slideToggle()}),$(".js-float").click(function(){var e=$(".fix-app-links");e.hasClass("hiden")?e.removeClass("hiden"):e.addClass("hiden")}),$(".top-share").on("click",function(){$(".fix-lang .lang-select").hide();var e=$(this);e.hasClass("active")?e.removeClass("active"):e.addClass("active")}),$(".js-fix-box-close").on("click",function(){$(".fix-box").hide(300)});$("#play").on("click",function(){$(".js-video").show();try{t("paused")}catch(e){}$("#videoEl").prepend('<iframe src="https://www.youtube.com/embed/zvtVRiE6Ekk" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" frameborder="0" allowfullscreen id="iframe"></iframe>');try{EventTrack.videoStartEvent()}catch(e){}}),$("#videoEl .js-close").on("click",function(){$(".js-video").hide(),t("play"),$("#iframe").remove()});var o=!1;function t(e){o=!0;var t=$(".js-play-music"),a=document.getElementById("Jaudio");return a&&("paused"===e?(t.removeClass("ani"),void a.pause()):"play"===e?(t.addClass("ani"),void a.play()):void(a.paused?(t.addClass("ani"),a.play()):(t.removeClass("ani"),a.pause())))}function n(e){return e.toString().replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,"$1,")}function a(e){e=$(e),e.data("key");e.parent().find(".retinue-item").removeClass("act"),e.addClass("act");e=e.find(".show-dialog-content").html();$(".lieutenant-tab-content").html(e)}function e(){$(".lieutenant-tab-element .element-item").on("click",function(){$(".lieutenant-tab-element .element-item").removeClass("act");var e=$(this);e.addClass("act");var t=e.data("src"),e=e.data("name");$(".lieutenant-tab-container").css({"background-image":"url("+t+")"}),t=e,e=$(".lieutenant-tab-retinue ."+t),$(".lieutenant-tab-retinue .lieutenant-tab-retinue-inner").removeClass("act"),e.addClass("act"),a(t=0===(t=e.find(".retinue-item.act")).length?e.find(".retinue-item")[0]:t)}),$(".lieutenant-tab-retinue .retinue-item").on("click",function(){a(this)}),$(".lieutenant-tab-content").on("click",".lieutenant-skill-item",function(){var e=$(this);e.siblings().removeClass("active"),e.addClass("active"),e.parents(".lieutenant-preview-content").find(".lieutenant-preview-desc").hide()}),$(".lieutenant-tab-element .element-item")&&$(".lieutenant-tab-element .element-item").length&&$(".lieutenant-tab-element .element-item")[0].click()}$(document).on("click",function(){var e;o||t("play"),(e=document.getElementById("bgVideo"))&&e.paused&&e.play()}),$(".js-play-music").on("click",function(){t()}),AJAX.getPres({game_id:gameId}).then(function(e){var t=e||{};$(".js-pre-num").text(n(t.num||0));var a=(t.gears&&t.gears.split(",")||[]).map(function(e){return+e});a.forEach(function(e,t){$($(".js-num-pre-item")[t]).text(n(e))});e=a,a=t.num||0,a=-1<(t=e.indexOf(a))?t+1:(e.push(a),e.sort(function(e,t){return e-t}).indexOf(a));$(".pre-reward-list").addClass("r"+a)}),$(".j-share-to").on("click",function(){var e=$(this).data("name");AJAX.sendLog("share_to_"+e)}),$(".js-platform-select select").on("change",function(){var e=$(this).val();$(".js-platform-select").find("input")[0].value=e}),$(".js-submit-email").on("click",function(){var e=function(){for(var e=$(".form-item"),t={},a=0;a<e.length;a++){var o=e[a],n=$(o).find("input"),i=$(n),s=i.attr("name"),i=i.val();if("isPromoted"!==s){if(""===i||"agree"===s&&!n[0].checked)return $($(o).addClass("field--error").find(".form-item-error")).show(),!1;if($($(o).removeClass("field--error").find(".form-item-error")).hide(),"email"===s&&!/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/.test(i))return $($(o).addClass("field--error").find(".form-item-error")).show(),!1;$($(o).removeClass("field--error").find(".form-item-error")).hide()}["first_name","last_name","email","platform"].includes(s)&&(t[s]=i)}return t}();e&&AJAX.sendEmail(e).then(function(){EventTrack.SuscribeCountEvent(),$(".js-email-dialog").hide(),$(".js-email-success-dialog").show()})}),$(".js-top-email").on("click",function(){!function(){$(".js-platform-select select")[0].value="";for(var e=$(".form-item"),t=0;t<e.length;t++){var a=e[t],o=$(a).find("input"),a=$(o).attr("name");["first_name","last_name","email","platform"].includes(a)?$(o).val(""):o[0].checked=!1}}(),EventTrack.SuscribeEvent(),$(".js-platform-select select")[0].value="",$(".js-email-dialog").show()}),$(".js-email-dialog .js-close").on("click",function(){$(".js-email-dialog").hide()}),$(".js-email-success-dialog .js-close, .email-success-button").on("click",function(){$(".js-email-success-dialog").hide()}),initDirection(),window.isLandingPage||e()});